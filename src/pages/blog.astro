---
// Component Imports
import Default from '../layouts/Default.astro';
import BlogPostPreview from '../components/BlogPostPreview.astro';

interface MarkdownFrontmatter {
  date: number;
}

let title = 'Aspiedent Blog';
let description = 'See our recent activity and feel free to contact us through the social media.';
let permalink = 'https://example.com/';

// Data Fetching: List all Markdown posts in the repo.
let allPosts = Astro.fetchContent<MarkdownFrontmatter>('./posts/*.md');
allPosts = allPosts.sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf());

---
<style>
.blog-header {
    border-bottom: 1px solid var(--accent-gold-400);
}
.alice-font {
    font-family: Alice;
}
.mono {
    font-family: 'Ubuntu mono';
}
</style>
<Default title={title} description={description} permalink={permalink}>
	<article>
		<section class="blog-header flex flex-col items-center my-8">
			<h1 class="alice-font text-3xl my-8">{title}</h1>
			<p class="mono">{description}</p>
		</section>
		<section>
			{allPosts.map(p => <BlogPostPreview post={p} />)}
		</section>
	</article>
</Default>
